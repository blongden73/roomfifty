function elementInViewport(el){for(var top=el.offsetTop,left=el.offsetLeft,width=el.offsetWidth,height=el.offsetHeight;el.offsetParent;)top+=(el=el.offsetParent).offsetTop,left+=el.offsetLeft;return top>=window.pageYOffset&&left>=window.pageXOffset&&top+height<=window.pageYOffset+window.innerHeight&&left+width<=window.pageXOffset+window.innerWidth}function splash(){if(document.querySelector(".rf-splash__wrapper")){var splashImage=document.getElementsByClassName("rf-splash__wrapper");if(splashImage.length>=1){var count=splashImage.length;console.log("new carousel"),splashImage[function(min,max){return min=Math.ceil(min),max=Math.floor(max),Math.floor(Math.random()*(max-min))+min}(0,count)].classList.add("show")}}}function splashCarousel(){if(document.querySelector(".rf-splash__wrapper")){var titleset=document.getElementsByClassName("rf-titles"),imageset=document.getElementsByClassName("rf-splash__wrapper");setInterval(function(){var a=document.querySelector(".rf-titles.show"),n=document.querySelector(".rf-titles.show + .rf-titles"),b=document.querySelector(".rf-splash__wrapper.show"),c=document.querySelector(".rf-splash__wrapper.show + .rf-splash__wrapper");if(!n||!c)var n=titleset[0],c=imageset[0];a.classList.remove("show"),n.classList.add("show"),b.classList.remove("show"),c.classList.add("show")},3e3)}}function menu(){var burger=document.querySelector(".rf-burger"),menu=document.querySelector(".rf-mobile__menu");burger.addEventListener("click",function(){this.classList.toggle("clicked"),menu.classList.toggle("clicked")})}function spec(){var techSpec=document.querySelector(".rf-single__tech-spec"),prodDesc=document.querySelector(".rf-single__prod-desc");techSpec&&(techSpec.addEventListener("click",function(){this.classList.toggle("clicked")}),prodDesc.addEventListener("click",function(){this.classList.toggle("clicked")}))}function saleTimer(){if(document.querySelector(".rf-hour")){var distance=new Date("Jun 11, 2018 6:00:00").getTime()-(new Date).getTime(),hours=24*Math.floor(distance/864e5)+Math.floor(distance%864e5/36e5),minutes=Math.floor(distance%36e5/6e4);Math.floor(distance%6e4/1e3);console.log(hours,minutes);var splitHour=hours.toString().split(""),hoursLabel="hrs";void 0===splitHour[1]&&(splitHour[1]=""),distance<=1&&(hoursLabel="hr"),document.querySelector(".rf-hour").innerHTML='<span class="number-one">'+splitHour[0]+'</span><span class="number-two">'+splitHour[1]+"</span> "+hoursLabel,distance<0&&(clearInterval(x),document.querySelector(".rf-hour").innerHTML="0")}}function hideEl($element){for(var i=0;i<$element.length;i++)console.log("hide",$element.length),$element[i].classList.add("none")}function showEl($element){for(var j=0;j<$element.length;j++)console.log("show",$element.length),$element[j].classList.add("block")}function devMode(){var url=window.location.href;if(console.log("is it dev mode?"),url.indexOf("devMode")>1){console.log("yes");var none=document.getElementsByClassName("rf-temporary-none");showEl(document.getElementsByClassName("rf-temporary-block")),hideEl(none)}else console.log("no")}function cookie(){var lightbox=document.querySelector(".rf-lightbox");document.querySelector(".rf-lightbox")&&(Cookies.get("lightbox")||Cookies.set("lightbox","false"),"false"===Cookies.get("lightbox")&&(lightbox.classList.add("display"),Cookies.set("lightbox","true")))}function closeLightbox(){var lightbox=document.querySelector(".rf-lightbox"),close=document.querySelector(".rf-lightbox-close");document.querySelector(".rf-lightbox")&&close.addEventListener("click",function(){lightbox.classList.remove("display")})}function loadMore(){function showImagesLoad(){if(document.querySelector(".rf-special-product-wrapper")){for(i=0;i<l;i++){newShop[i].classList.add("display");data=images[i].dataset.src;images[i].setAttribute("src",data),productsTally.innerHTML=l+" prints",pagination.innerHTML=x+"/"+m}x++}else{for(var i=0;i<m;i++){newShop[i].classList.add("display");var data=images[i].dataset.src;images[i].setAttribute("src",data),productsTally.innerHTML=m+" prints",pagination.innerHTML=x+"/"+m}x++}}function reset(){if(document.querySelector(".rf-special-product-wrapper"));else;x=1;var selected=document.querySelector(".selector.display"),shopTitle=document.querySelector(".rf-shop-title-update");for(selected.classList.remove("display"),i=0;i<newShop.length;i++)newShop[i].classList.remove("display");showImagesLoad(),shopTitle.innerHTML="all products"}if(document.querySelector(".rf-new-shop__wrapper")){var newShop=document.getElementsByClassName("rf-new-shop__wrapper"),loadButton=document.querySelector(".rf-load-more"),images=document.getElementsByClassName("rf-new-shop__src"),productsTally=document.querySelector(".rf-shop-amount-update"),pagination=document.querySelector(".rf-pagination-update"),resetButton=document.querySelector(".rf-reset-button");if(document.querySelector(".rf-special-product-wrapper"))m=2;else var m=13;var x=1,l=newShop.length/m,tar=Math.round(l)*x;showImagesLoad(),loadButton.addEventListener("click",function(){tar=Math.round(l)*x;for(var i=0;i<tar;i++){newShop[i].classList.add("display");var imageInner=newShop[i].querySelector(".rf-new-shop__image").querySelector(".rf-new-shop__src");if(null!=imageInner||void 0!=imageInner){console.log(tar,i);var imageData=imageInner.dataset.src;imageInner.setAttribute("src",imageData)}productsTally.innerHTML=Math.ceil(tar)+" prints",x-1<=m&&(pagination.innerHTML=x+"/"+m)}x++}),resetButton.addEventListener("click",function(){reset()})}}function tags(){var showing,selector=document.getElementsByClassName("selector"),s=document.querySelectorAll(".selector"),product=document.getElementsByClassName("rf-new-shop__wrapper"),image=document.getElementsByClassName("rf-new-shop__src"),productsTally=document.querySelector(".rf-shop-amount-update"),pageTitle=document.querySelector(".rf-shop-title-update"),isHomePage=document.querySelector(".rf-splash__wrapper"),pagination=document.querySelector(".rf-pagination-update");if(window.location.href.indexOf("?")>1&&pageTitle){for(var split=window.location.href.split("?"),j=0;j<product.length;j++){var cleanTags=product[j].dataset.tags.replace("  "," ").toLowerCase();if(product[j].classList.remove("display"),cleanTags.includes(split[1].replace(/-/g," "))){product[j].classList.add("display");var src=image[j].dataset.src;image[j].setAttribute("src",src)}}pageTitle.innerHTML=split[1].replace(/-/g," "),showing=document.querySelectorAll(".rf-new-shop__wrapper.display").length,productsTally.innerHTML=showing+" prints"}if(pageTitle)for(i=0;i<selector.length;i++)selector[i].addEventListener("click",function(){var selectorTag=this.getAttribute("data-click").toLowerCase();s.forEach(function(el){el.classList.remove("display")}),this.classList.add("display");for(var j=0;j<product.length;j++){var cleanTags=product[j].dataset.tags.replace("  "," ").toLowerCase();if(product[j].classList.remove("display"),cleanTags.includes(selectorTag)){product[j].classList.add("display");var imageInner=product[j].querySelector(".rf-new-shop__image").querySelector(".rf-new-shop__src"),imageData=imageInner.dataset.src;imageInner.setAttribute("src",imageData),console.log(cleanTags.includes(selectorTag),j,imageData)}}pageTitle.innerHTML=selectorTag,window.scrollTo(0,0),showing=document.querySelectorAll(".rf-new-shop__wrapper.display").length,productsTally.innerHTML=showing+" prints",pagination.innerHTML=""});else if(isHomePage){console.log("home 4");for(var i=0;i<selector.length;i++)selector[i].addEventListener("click",function(){var selectorTag=this.getAttribute("data-click").toLowerCase().replace(/ /g,"-");console.log(selectorTag),window.location.href="https://roomfifty.com/shop/?"+selectorTag})}}function mobileTags(){if(document.querySelector(".rf-new-shop__filter")){var tagTitle=document.querySelectorAll(".rf-new-shop__filter > div > h1"),tags=document.querySelectorAll(".rf-new-shop__filter > div");console.log(tags),console.log(tagTitle);for(var i=0;i<tagTitle.length;i++)tagTitle[i].addEventListener("click",function(){for(var i=0;i<tagTitle.length;i++)tagTitle[i].classList.remove("clicked");this.classList.toggle("clicked")})}}function artistOverview(){var artist=document.querySelectorAll(".rf-home__products-image-src");artist&&document.addEventListener("scroll",function(){console.log("scrolling");for(var i=0;i<artist.length;i++)if(console.log(artist[i]),elementInViewport(artist[i])){var src=artist[i].dataset.src;artist[i].setAttribute("src",src)}})}function checkSpecial(){window.location.href.indexOf("print-item")>1&&window.location.href.indexOf("special")<1&&(console.log("finding promo"),document.querySelector(".rf-new-product-promotion").classList.add("hide"))}function init(){menu(),splash(),spec(),devMode(),cookie(),closeLightbox(),saleTimer(),loadMore(),tags(),mobileTags(),artistOverview(),checkSpecial()}init();